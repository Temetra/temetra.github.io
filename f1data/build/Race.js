import{i as t,g as n,p as r,c as o,a as e,b as u,s as a,S as i,d as c,m as s,e as f,t as l,f as d,h as v,N as p,o as h,k as m,j as g,q as $,r as y,D as I,u as j,M as w,l as R,y as b,z as x,Q as N,x as k,K as O}from"./main2.js";import{g as P}from"./races.js";import{S}from"./SectionTemplate.js";function B(t){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,u=n(t);if(o){var a=n(this).constructor;e=Reflect.construct(u,arguments,a)}else e=u.apply(this,arguments);return r(this,e)}}function D(t,n,r){var o=t.slice();return o[5]=n[r],o}function L(t,n,r){var o=t.slice();return o[8]=n[r],o}function M(t){var n;return{c:function(){n=g("No results")},m:function(t,r){m(t,n,r)},p:k,d:function(t){t&&R(n)}}}function T(t){for(var n,r,o,e=t[2],u=[],a=0;a<e.length;a+=1)u[a]=q(L(t,e,a));return{c:function(){n=h("table"),(r=h("tr")).innerHTML="<th>Driver</th> \n\t\t\t\t<th>Constructor</th> \n\t\t\t\t<th>Grid</th> \n\t\t\t\t<th>Position</th> \n\t\t\t\t<th>Laps</th> \n\t\t\t\t<th>Points</th>",o=$();for(var t=0;t<u.length;t+=1)u[t].c()},m:function(t,e){m(t,n,e),j(n,r),j(n,o);for(var a=0;a<u.length;a+=1)u[a].m(n,null)},p:function(t,r){if(4&r){var o;for(e=t[2],o=0;o<e.length;o+=1){var a=L(t,e,o);u[o]?u[o].p(a,r):(u[o]=q(a),u[o].c(),u[o].m(n,null))}for(;o<u.length;o+=1)u[o].d(1);u.length=e.length}},d:function(t){t&&R(n),b(u,t)}}}function q(t){var n,r,o,e,u,a,i,c,s,f,l,d,v,p,y,I,b,x,N,k,O,P=t[8].forename+"",S=t[8].surname+"",B=t[8].team+"",D=t[8].grid+"",L=(t[8].position||t[8].status)+"",M=t[8].laps+"",T=t[8].points+"";return{c:function(){n=h("tr"),r=h("td"),o=g(P),e=$(),u=g(S),a=$(),i=h("td"),c=g(B),s=$(),f=h("td"),l=g(D),d=$(),v=h("td"),p=g(L),y=$(),I=h("td"),b=g(M),x=$(),N=h("td"),k=g(T),O=$()},m:function(t,h){m(t,n,h),j(n,r),j(r,o),j(r,e),j(r,u),j(n,a),j(n,i),j(i,c),j(n,s),j(n,f),j(f,l),j(n,d),j(n,v),j(v,p),j(n,y),j(n,I),j(I,b),j(n,x),j(n,N),j(N,k),j(n,O)},p:function(t,n){4&n&&P!==(P=t[8].forename+"")&&w(o,P),4&n&&S!==(S=t[8].surname+"")&&w(u,S),4&n&&B!==(B=t[8].team+"")&&w(c,B),4&n&&D!==(D=t[8].grid+"")&&w(l,D),4&n&&L!==(L=(t[8].position||t[8].status)+"")&&w(p,L),4&n&&M!==(M=t[8].laps+"")&&w(b,M),4&n&&T!==(T=t[8].points+"")&&w(k,T)},d:function(t){t&&R(n)}}}function z(t){for(var n,r=t[0],o=[],e=0;e<r.length;e+=1)o[e]=A(D(t,r,e));return{c:function(){n=h("ul");for(var t=0;t<o.length;t+=1)o[t].c()},m:function(t,r){m(t,n,r);for(var e=0;e<o.length;e+=1)o[e].m(n,null)},p:function(t,e){if(3&e){var u;for(r=t[0],u=0;u<r.length;u+=1){var a=D(t,r,u);o[u]?o[u].p(a,e):(o[u]=A(a),o[u].c(),o[u].m(n,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}},d:function(t){t&&R(n),b(o,t)}}}function A(t){var n,r,o,e,u,a=t[5].country+"";return{c:function(){var i;n=h("li"),r=h("a"),o=g(a),u=$(),y(r,"href",e="#/race/"+t[5].year+"/"+t[5].round),I(n,"highlight",t[5].raceId==(null===(i=t[1])||void 0===i?void 0:i.raceId))},m:function(t,e){m(t,n,e),j(n,r),j(r,o),j(n,u)},p:function(t,u){var i;(1&u&&a!==(a=t[5].country+"")&&w(o,a),1&u&&e!==(e="#/race/"+t[5].year+"/"+t[5].round)&&y(r,"href",e),3&u)&&I(n,"highlight",t[5].raceId==(null===(i=t[1])||void 0===i?void 0:i.raceId))},d:function(t){t&&R(n)}}}function C(t){var n,r;function o(t,n){var r;return(null===(r=t[2])||void 0===r?void 0:r.length)>0?T:M}var e=o(t),u=e(t),a=t[0]&&z(t);return{c:function(){u.c(),n=$(),a&&a.c(),r=x()},m:function(t,o){u.m(t,o),m(t,n,o),a&&a.m(t,o),m(t,r,o)},p:function(t,i){e===(e=o(t))&&u?u.p(t,i):(u.d(1),(u=e(t))&&(u.c(),u.m(n.parentNode,n))),t[0]?a?a.p(t,i):((a=z(t)).c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d:function(t){u.d(t),t&&R(n),a&&a.d(t),t&&R(r)}}}function G(t){var n;return{c:function(){n=g("No race")},m:function(t,r){m(t,n,r)},p:k,d:function(t){t&&R(n)}}}function H(t){var n,r,o,e,u,a,i,c,s,f,l=t[1].year+"",d=t[1].title+"",v=t[1].round+"",p=O(null===(n=t[1])||void 0===n?void 0:n.when)+"";return{c:function(){r=h("div"),o=g(l),e=$(),u=g(d),a=g(", Round "),i=g(v),c=$(),s=h("div"),f=g(p),y(r,"class","svelte-kytwua"),y(s,"class","svelte-kytwua")},m:function(t,n){m(t,r,n),j(r,o),j(r,e),j(r,u),j(r,a),j(r,i),m(t,c,n),m(t,s,n),j(s,f)},p:function(t,n){var r;2&n&&l!==(l=t[1].year+"")&&w(o,l),2&n&&d!==(d=t[1].title+"")&&w(u,d),2&n&&v!==(v=t[1].round+"")&&w(i,v),2&n&&p!==(p=O(null===(r=t[1])||void 0===r?void 0:r.when)+"")&&w(f,p)},d:function(t){t&&R(r),t&&R(c),t&&R(s)}}}function K(t){var n;function r(t,n){return t[1]?H:G}var o=r(t),e=o(t);return{c:function(){n=h("div"),e.c(),y(n,"class","title svelte-kytwua"),y(n,"slot","header")},m:function(t,r){m(t,n,r),e.m(n,null)},p:function(t,u){o===(o=r(t))&&e?e.p(t,u):(e.d(1),(e=o(t))&&(e.c(),e.m(n,null)))},d:function(t){t&&R(n),e.d()}}}function Q(t){var n,r;return n=new S({props:{$$slots:{header:[K],default:[C]},$$scope:{ctx:t}}}),{c:function(){c(n.$$.fragment)},m:function(t,o){s(n,t,o),r=!0},p:function(t,r){var o=f(r,1)[0],e={};2055&o&&(e.$$scope={dirty:o,ctx:t}),n.$set(e)},i:function(t){r||(l(n.$$.fragment,t),r=!0)},o:function(t){d(n.$$.fragment,t),r=!1},d:function(t){v(n,t)}}}function E(t,n,r){var o;p(t,N,(function(t){return r(4,o=t)}));var e,u,a,i=n.params;return t.$$set=function(t){"params"in t&&r(3,i=t.params)},t.$$.update=function(){24&t.$$.dirty&&i.year&&r(0,e=P(o,i.year)),9&t.$$.dirty&&i.round&&e&&r(1,u=e.find((function(t){return t.round==i.round}))),18&t.$$.dirty&&r(2,a=u?function(t,n){let r=t.prepare("select \n\t\t\tdrivers.forename, \n\t\t\tdrivers.surname, \n\t\t\tconstructors.name as team, \n\t\t\tresults.grid, \n\t\t\tresults.position, \n\t\t\tresults.laps, \n\t\t\tstatus.status, \n\t\t\tresults.points\n\t\tfrom results\n\t\tjoin drivers on results.driverId = drivers.driverId\n\t\tjoin constructors on results.constructorId = constructors.constructorId\n\t\tjoin status on results.statusId = status.statusId\n\t\twhere raceId = $raceId\n\t\torder by positionOrder");r.bind({$raceId:n});let o=[];for(;r.step();)o.push(r.getAsObject());return o}(o,u.raceId):null)},[e,u,a,i,o]}var F=function(n){t(c,i);var r=B(c);function c(t){var n;return o(this,c),n=r.call(this),e(u(n),t,E,Q,a,{params:3}),n}return c}();export default F;
//# sourceMappingURL=Race.js.map
